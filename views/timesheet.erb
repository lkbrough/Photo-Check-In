<table class="table table-striped table-dark">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <% for k in 1..@maxk do %>
        <th scope="col">Time In</th>
        <th scope="col">Time Out</th>
      <% end %>
      <th scope="col">Total Time</th>
    </tr>
  </thead>
  <tbody>
    <%  i = 1
        for j in 1..@max do
          if TimeCard.first(:user_id => j)
            k = 0
            h = 0 %>
            <tr>
              <th scope="row"><%= i %></th>
              <td><%= (User.get(TimeCard.first(:user_id => j).user_id)).first_name %></td>
              <td><%= (User.get(TimeCard.first(:user_id => j).user_id)).last_name %></td>
              <% TimeCard.all(:user_id => j).each do |x| %>
                <td><%= x.sign_in.strftime("%l:%M%p") if x.sign_in %></td>
                <td><%= x.sign_out.strftime("%l:%M%p") if x.sign_out %></td>
              <% h += x.sign_out.to_time.to_f if x.sign_out
              h -= x.sign_in.to_time.to_f if x.sign_in
              k += 1
              end %>
              <% while k < @maxk do %>
                <td></td>
                <td></td>
              <% k += 1
              end %>
              <td><%= "#{(h / 3600).floor} hours, #{(h / 60).floor} min." if h >= 0 && h / 3600 <= 24 %></td>
            </tr>
          <% i += 1
          end
        end %>
  </tbody>
</table>